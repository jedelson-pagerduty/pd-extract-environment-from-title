org: justinedelson
app: pd-extract-environment-from-title
service: pd-extract-environment-from-title
frameworkVersion: '3'

provider:
  name: aws
  runtime: go1.x
  environment:
    PD_API_KEY: ${param:pagerDutyAPIKey}

package:
  patterns:
    - '!./**'
    - ./bin/**

functions:
  extractTitleRegex:
    handler: bin/extractTitleRegex
    events:
      - httpApi:
          path: /regex
          method: post
  extractAndMap:
    handler: bin/extractAndMap
    events:
      - httpApi:
          path: /map
          method: post
